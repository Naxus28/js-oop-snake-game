{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/game/Canvas.js","src/js/game/Controllers.js","src/js/game/Food.js","src/js/game/Game.js","src/js/game/Snake.js","src/js/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export default class Canvas {\n\tconstructor(canvasId = 'snake-game', width = 600, height = 600) {\n\t\tthis.canvasId = canvasId;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.canvas = this.createCanvas();\n\t}\n\n\tcreateCanvas() {\n\t\tconst canvas = document.getElementById(this.canvasId);\n\t\tcanvas.height = this.height;\n\t\tcanvas.width = this.width;\n\n\t\treturn canvas;\n\t}\n\n\tgetContext() {\n\t\tif (!this.canvas.getContext) {\n\t\t\talert('Your browser doesn\\'t support HTML5 Canvas.');\n\t\t\treturn;\n\t\t} else {\n\t\t\treturn this.canvas.getContext('2d');\n\t\t}\n\t}\n\n\n\t/**\n\t * accessor and mutator methods\n\t */\n\tgetCanvasId() {\n\t\treturn this.canvasId;\n\t} \n\n\tsetCanvasId(canvasId) {\n\t\tthis.canvasId = canvasId;\n\t} \n\n\tgetCanvas() {\n\t\treturn this.canvas;\n\t} \n\n\t/**\n\t * @param {HTML Node} canvas element\n\t */\n\tsetCanvas(canvas) {\n\t\tthis.canvas = canvas;\n\t} \n\n\tgetWidth() {\n\t\treturn this.width;\n\t} \n\n\tsetWidth(width) {\n\t\tthis.width = width;\n\t} \n\n\tgetHeight() {\n\t\treturn this.height;\n\t} \n\n\tsetHeight(height) {\n\t\tthis.height = height;\n\t} \n}\n","export default class Controllers {\n\tconstructor({ controllers = {\n\t\t37: 'LEFT',\n\t\t38: 'UP',\n\t\t39: 'RIGHT',\n\t\t40: 'DOWN'\n\t}, initialPosition }) {\n\t\tthis.controllers = controllers;\n\t\tthis.direction = initialPosition;// initial snake direction\n\t}\n\n\tgetControllers() {\n\t\treturn this.controllers;\n\t}\n\n\tsetControllers(controllers) {\n\t\tthis.controllers = controllers;\n\t}\n\n\tgetDirection() {\n\t\treturn this.direction;\n\t}\n\n\tkeyboardListener() {\n\t\tdocument.addEventListener('keydown', e => {\n\t\t\tObject.entries(this.controllers)\n\t\t\t\t.forEach(([controllerKey, controllerDirection]) => {\n\t\t\t\t\tif (e.keyCode === parseInt(controllerKey)) {\n\t\t\t\t\t\tif (this.direction === 'LEFT' && controllerDirection === 'RIGHT') {\n\t\t\t\t\t\t\tthis.direction = 'LEFT';\n\t\t\t\t\t\t} else if (this.direction === 'RIGHT' && controllerDirection === 'LEFT') {\n\t\t\t\t\t\t\tthis.direction = 'RIGHT';\n\t\t\t\t\t\t}\telse if (this.direction === 'UP' && controllerDirection === 'DOWN') {\n\t\t\t\t\t\t\tthis.direction = 'UP';\n\t\t\t\t\t\t} else if (this.direction === 'DOWN' && controllerDirection === 'UP') {\n\t\t\t\t\t\t\tthis.direction = 'DOWN';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.direction = controllerDirection;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t});\n\t}\n}","export default class Food {\n\tconstructor(canvas, ctx, boxSize, color) {\n\t\tthis.boxSize = boxSize;\n\t\tthis.canvas = canvas;\n\t\tthis.ctx = ctx;\n\t\tthis.color = color;\n\t\tthis.food;\n\t}\n\n\tcreate() {\n\t\tconst boxCountOnXAxis = this.canvas.width / this.boxSize;\n\t\tconst boxCountOnYAxis = this.canvas.height / this.boxSize;\n\n\t\tconst foodX = Math.floor((Math.random() * boxCountOnXAxis)) * this.boxSize;\n\t\tconst foodY = Math.floor((Math.random() * boxCountOnYAxis)) * this.boxSize;\n\n\t\tthis.food = { x: foodX, y: foodY };\n\t}\n\n\tdraw() {\n\t\tthis.ctx.fillStyle = this.color;\n\t\tthis.ctx.fillRect(this.food.x, this.food.y, this.boxSize, this.boxSize);\n\t}\n\n\tgetPosition() {\n\t\treturn this.food;\n\t}\n}","\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJHYW1lLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==","export default class Snake {\n\tconstructor({ ctx, canvas, boxSize, initialX, initialY, color }) {\n\t\tthis.snake = [];\n\t\t\n\t\t// set initial position\n\t\tthis.snake[0] = { \n\t\t\tx: initialX * boxSize, \n\t\t\ty: initialY * boxSize \n\t\t}; \n\t\tthis.ctx = ctx;\n\t\tthis.canvas = canvas;\n\t\tthis.boxSize = boxSize;\n\t\tthis.initialX = initialX;\n\t\tthis.initialY = initialY;\n\t\tthis.color = color;\n\t\tthis.direction;\n\t\tthis.position = this.snake[0];\n\t}\n\n\tgetSnake() {\n\t\treturn this.snake;\n\t}\n\n\tsetSnakeOnCanvas() {\n\t\tthis.ctx.fillStyle = this.color;\n\t\tthis.ctx.fillRect(this.initialX, this.initialY * this.boxSize, this.boxSize, this.boxSize);\n\t}\n\n\tdraw(snakeX, snakeY) {\n\t\tthis.ctx.fillStyle = this.color;\n\t\tthis.ctx.fillRect(snakeX, snakeY, this.boxSize, this.boxSize);\n\t}\n\n\tsetDirection(direction) {\n\t\tthis.direction = direction;\n\t}\n\n\thasCollided(snakeX, snakeY) {\n\t\treturn (snakeX < 0 || snakeX + this.boxSize > this.canvas.width)\n\t\t\t|| (snakeY < 0 || snakeY + this.boxSize > this.canvas.height);\n\t}\n\n\teat() {\n\t\tlet headX = this.snake[0].x;\n\t\tlet headY = this.snake[0].y;\n\n\t\tif (this.direction === 'LEFT') {\n\t\t\theadX -= this.boxSize;\n\t\t} else if (this.direction === 'RIGHT') {\n\t\t\theadX += this.boxSize;\n\t\t} else if (this.direction === 'UP') {\n\t\t\theadY -= this.boxSize;\n\t\t} else if (this.direction === 'DOWN') {\n\t\t\theadY += this.boxSize;\n\t\t}\n\n\t\tthis.snake.unshift({ x: headX, y: headY });\n\t}\n\n\tgetPosition() {\n\t\treturn this.position;\n\t}\n\n\tsetPosition(position) {\n\t\tthis.position = position;\n\t}\n\n\tmove(direction) {\n\t\tthis.setDirection(direction);\n\t\tlet newHeadX;\n\t\tlet newHeadY;\n\n\t\tfor (let i = 0; i < this.snake.length; i++) {\n\t\t\tif (direction === 'LEFT') {\n\t\t\t\tnewHeadX = this.snake[0].x - this.boxSize;\n\t\t\t} else if (direction === 'RIGHT') {\n\t\t\t\tnewHeadX = this.snake[0].x + this.boxSize;\n\t\t\t} else if (direction === 'DOWN') {\n\t\t\t\tnewHeadY = this.snake[0].y + this.boxSize;\n\t\t\t} else if (direction === 'UP') {\n\t\t\t\tnewHeadY = this.snake[0].y - this.boxSize;\n\t\t\t}\n\n\t\t\tconsole.log(newHeadX);\n\t\t\tconsole.log(newHeadY);\n\n\t\t\tthis.ctx.fillStyle = this.color;\n\t\t\tthis.ctx.fillRect(20, 30, this.boxSize, this.boxSize);\n\n\t\t\t// this.snake.pop();\n\t\t\tthis.snake.unshift({x: 10+i, y:20+i});\n\t\t\t// this.draw(newHeadX, newHeadY);\n\n\t\t\tif (this.hasCollided(newHeadX, newHeadY)) {\n\t\t\t\tthis.setPosition({});\n\t\t\t} else {\n\t\t\t\tthis.setPosition({\n\t\t\t\t\tx: newHeadX, \n\t\t\t\t\ty: newHeadY\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t// this.draw();\n\t}\n}","import Controllers from './game/Controllers';\nimport Food from './game/Food';\n// import Game from './game/Game';\nimport Snake from './game/Snake';\nimport Canvas from './game/Canvas';\n\nlet direction;\nconst boxSize = 20;\nconst game = setInterval(play, 120);\n\n/* CANVAS */\nconst canvas = new Canvas();\nconst ctx = canvas.getContext();\n\n/* CONTROLLERS */\nconst controllers = new Controllers({ initialPosition: 'RIGHT' });\n\ncontrollers.keyboardListener();\n\ndocument.addEventListener('keydown', () => {\n\tdirection = controllers.getDirection();\n});\n\n\n/* SNAKE */\nconst snake = new Snake({ \n\tctx, \n\tcanvas, \n\tboxSize, \n\tinitialX: 0, \n\tinitialY: 15, \n\tcolor: 'green', \n\tgame\n});\n\nsnake.setSnakeOnCanvas();\n\n/* FOOD */\nconst food = new Food(canvas, ctx, boxSize, 'red'); \nfood.create();\n\n/* PLAY */\nfunction play() {\n\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\tfood.draw();\n\tsnake.move(direction);\n\tconst foodPosition = food.getPosition();\n\tconst snakePosition = snake.getPosition();\n\n\tif (Object.keys(snakePosition).length === 0) {\n\t\talert('Game Over!');\n\t\tclearInterval(game);\n\t\tlocation.reload();\n\t} else if ((snakePosition.x === foodPosition.x && snakePosition.y === foodPosition.y)) {\n\t\tfood.create();\n\t\tfood.draw();\n\t\tsnake.eat();\n\t}\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZ2FtZS9DYW52YXMuanMiLCJzcmMvanMvZ2FtZS9Db250cm9sbGVycy5qcyIsInNyYy9qcy9nYW1lL0Zvb2QuanMiLCJzcmMvanMvZ2FtZS9HYW1lLmpzIiwic3JjL2pzL2dhbWUvU25ha2UuanMiLCJzcmMvanMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0lDQXFCLE07QUFDcEIsbUJBQWdFO0FBQUEsTUFBcEQsUUFBb0QsdUVBQXpDLFlBQXlDO0FBQUEsTUFBM0IsS0FBMkIsdUVBQW5CLEdBQW1CO0FBQUEsTUFBZCxNQUFjLHVFQUFMLEdBQUs7O0FBQUE7O0FBQy9ELE9BQUssUUFBTCxHQUFnQixRQUFoQjtBQUNBLE9BQUssS0FBTCxHQUFhLEtBQWI7QUFDQSxPQUFLLE1BQUwsR0FBYyxNQUFkO0FBQ0EsT0FBSyxNQUFMLEdBQWMsS0FBSyxZQUFMLEVBQWQ7QUFDQTs7OztpQ0FFYztBQUNkLE9BQU0sU0FBUyxTQUFTLGNBQVQsQ0FBd0IsS0FBSyxRQUE3QixDQUFmO0FBQ0EsVUFBTyxNQUFQLEdBQWdCLEtBQUssTUFBckI7QUFDQSxVQUFPLEtBQVAsR0FBZSxLQUFLLEtBQXBCOztBQUVBLFVBQU8sTUFBUDtBQUNBOzs7K0JBRVk7QUFDWixPQUFJLENBQUMsS0FBSyxNQUFMLENBQVksVUFBakIsRUFBNkI7QUFDNUIsVUFBTSw2Q0FBTjtBQUNBO0FBQ0EsSUFIRCxNQUdPO0FBQ04sV0FBTyxLQUFLLE1BQUwsQ0FBWSxVQUFaLENBQXVCLElBQXZCLENBQVA7QUFDQTtBQUNEOztBQUdEOzs7Ozs7Z0NBR2M7QUFDYixVQUFPLEtBQUssUUFBWjtBQUNBOzs7OEJBRVcsUSxFQUFVO0FBQ3JCLFFBQUssUUFBTCxHQUFnQixRQUFoQjtBQUNBOzs7OEJBRVc7QUFDWCxVQUFPLEtBQUssTUFBWjtBQUNBOztBQUVEOzs7Ozs7NEJBR1UsTSxF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TSxXQUFOLEVBQXRCOztBQUVBLEtBQUksT0FBTyxJQUFQLENBQVksYUFBWixFQUEyQixNQUEzQixLQUFzQyxDQUExQyxFQUE2QztBQUM1QyxRQUFNLFlBQU47QUFDQSxnQkFBYyxJQUFkO0FBQ0EsV0FBUyxNQUFUO0FBQ0EsRUFKRCxNQUlPLElBQUssY0FBYyxDQUFkLEtBQW9CLGFBQWEsQ0FBakMsSUFBc0MsY0FBYyxDQUFkLEtBQW9CLGFBQWEsQ0FBNUUsRUFBZ0Y7QUFDdEYsT0FBSyxNQUFMO0FBQ0EsT0FBSyxJQUFMO0FBQ0EsUUFBTSxHQUFOO0FBQ0E7QUFDRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyB7XG5cdGNvbnN0cnVjdG9yKGNhbnZhc0lkID0gJ3NuYWtlLWdhbWUnLCB3aWR0aCA9IDYwMCwgaGVpZ2h0ID0gNjAwKSB7XG5cdFx0dGhpcy5jYW52YXNJZCA9IGNhbnZhc0lkO1xuXHRcdHRoaXMud2lkdGggPSB3aWR0aDtcblx0XHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblx0XHR0aGlzLmNhbnZhcyA9IHRoaXMuY3JlYXRlQ2FudmFzKCk7XG5cdH1cblxuXHRjcmVhdGVDYW52YXMoKSB7XG5cdFx0Y29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jYW52YXNJZCk7XG5cdFx0Y2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuXHRcdGNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGg7XG5cblx0XHRyZXR1cm4gY2FudmFzO1xuXHR9XG5cblx0Z2V0Q29udGV4dCgpIHtcblx0XHRpZiAoIXRoaXMuY2FudmFzLmdldENvbnRleHQpIHtcblx0XHRcdGFsZXJ0KCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgSFRNTDUgQ2FudmFzLicpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBhY2Nlc3NvciBhbmQgbXV0YXRvciBtZXRob2RzXG5cdCAqL1xuXHRnZXRDYW52YXNJZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5jYW52YXNJZDtcblx0fSBcblxuXHRzZXRDYW52YXNJZChjYW52YXNJZCkge1xuXHRcdHRoaXMuY2FudmFzSWQgPSBjYW52YXNJZDtcblx0fSBcblxuXHRnZXRDYW52YXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2FudmFzO1xuXHR9IFxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge0hUTUwgTm9kZX0gY2FudmFzIGVsZW1lbnRcblx0ICovXG5cdHNldENhbnZhcyhjYW52YXMpIHtcblx0XHR0aGlzLmNhbnZhcyA9IGNhbnZhcztcblx0fSBcblxuXHRnZXRXaWR0aCgpIHtcblx0XHRyZXR1cm4gdGhpcy53aWR0aDtcblx0fSBcblxuXHRzZXRXaWR0aCh3aWR0aCkge1xuXHRcdHRoaXMud2lkdGggPSB3aWR0aDtcblx0fSBcblxuXHRnZXRIZWlnaHQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaGVpZ2h0O1xuXHR9IFxuXG5cdHNldEhlaWdodChoZWlnaHQpIHtcblx0XHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblx0fSBcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXJzIHtcblx0Y29uc3RydWN0b3IoeyBjb250cm9sbGVycyA9IHtcblx0XHQzNzogJ0xFRlQnLFxuXHRcdDM4OiAnVVAnLFxuXHRcdDM5OiAnUklHSFQnLFxuXHRcdDQwOiAnRE9XTidcblx0fSwgaW5pdGlhbFBvc2l0aW9uIH0pIHtcblx0XHR0aGlzLmNvbnRyb2xsZXJzID0gY29udHJvbGxlcnM7XG5cdFx0dGhpcy5kaXJlY3Rpb24gPSBpbml0aWFsUG9zaXRpb247Ly8gaW5pdGlhbCBzbmFrZSBkaXJlY3Rpb25cblx0fVxuXG5cdGdldENvbnRyb2xsZXJzKCkge1xuXHRcdHJldHVybiB0aGlzLmNvbnRyb2xsZXJzO1xuXHR9XG5cblx0c2V0Q29udHJvbGxlcnMoY29udHJvbGxlcnMpIHtcblx0XHR0aGlzLmNvbnRyb2xsZXJzID0gY29udHJvbGxlcnM7XG5cdH1cblxuXHRnZXREaXJlY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZGlyZWN0aW9uO1xuXHR9XG5cblx0a2V5Ym9hcmRMaXN0ZW5lcigpIHtcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG5cdFx0XHRPYmplY3QuZW50cmllcyh0aGlzLmNvbnRyb2xsZXJzKVxuXHRcdFx0XHQuZm9yRWFjaCgoW2NvbnRyb2xsZXJLZXksIGNvbnRyb2xsZXJEaXJlY3Rpb25dKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGUua2V5Q29kZSA9PT0gcGFyc2VJbnQoY29udHJvbGxlcktleSkpIHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ0xFRlQnICYmIGNvbnRyb2xsZXJEaXJlY3Rpb24gPT09ICdSSUdIVCcpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXJlY3Rpb24gPSAnTEVGVCc7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAnUklHSFQnICYmIGNvbnRyb2xsZXJEaXJlY3Rpb24gPT09ICdMRUZUJykge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmRpcmVjdGlvbiA9ICdSSUdIVCc7XG5cdFx0XHRcdFx0XHR9XHRlbHNlIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ1VQJyAmJiBjb250cm9sbGVyRGlyZWN0aW9uID09PSAnRE9XTicpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXJlY3Rpb24gPSAnVVAnO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ0RPV04nICYmIGNvbnRyb2xsZXJEaXJlY3Rpb24gPT09ICdVUCcpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXJlY3Rpb24gPSAnRE9XTic7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmRpcmVjdGlvbiA9IGNvbnRyb2xsZXJEaXJlY3Rpb247XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9KTtcblx0fVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvb2Qge1xuXHRjb25zdHJ1Y3RvcihjYW52YXMsIGN0eCwgYm94U2l6ZSwgY29sb3IpIHtcblx0XHR0aGlzLmJveFNpemUgPSBib3hTaXplO1xuXHRcdHRoaXMuY2FudmFzID0gY2FudmFzO1xuXHRcdHRoaXMuY3R4ID0gY3R4O1xuXHRcdHRoaXMuY29sb3IgPSBjb2xvcjtcblx0XHR0aGlzLmZvb2Q7XG5cdH1cblxuXHRjcmVhdGUoKSB7XG5cdFx0Y29uc3QgYm94Q291bnRPblhBeGlzID0gdGhpcy5jYW52YXMud2lkdGggLyB0aGlzLmJveFNpemU7XG5cdFx0Y29uc3QgYm94Q291bnRPbllBeGlzID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5ib3hTaXplO1xuXG5cdFx0Y29uc3QgZm9vZFggPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogYm94Q291bnRPblhBeGlzKSkgKiB0aGlzLmJveFNpemU7XG5cdFx0Y29uc3QgZm9vZFkgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogYm94Q291bnRPbllBeGlzKSkgKiB0aGlzLmJveFNpemU7XG5cblx0XHR0aGlzLmZvb2QgPSB7IHg6IGZvb2RYLCB5OiBmb29kWSB9O1xuXHR9XG5cblx0ZHJhdygpIHtcblx0XHR0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuXHRcdHRoaXMuY3R4LmZpbGxSZWN0KHRoaXMuZm9vZC54LCB0aGlzLmZvb2QueSwgdGhpcy5ib3hTaXplLCB0aGlzLmJveFNpemUpO1xuXHR9XG5cblx0Z2V0UG9zaXRpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZm9vZDtcblx0fVxufSIsIlwidXNlIHN0cmljdFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJaUlzSW1acGJHVWlPaUpIWVcxbExtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHRkZlE9PSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYWtlIHtcblx0Y29uc3RydWN0b3IoeyBjdHgsIGNhbnZhcywgYm94U2l6ZSwgaW5pdGlhbFgsIGluaXRpYWxZLCBjb2xvciB9KSB7XG5cdFx0dGhpcy5zbmFrZSA9IFtdO1xuXHRcdFxuXHRcdC8vIHNldCBpbml0aWFsIHBvc2l0aW9uXG5cdFx0dGhpcy5zbmFrZVswXSA9IHsgXG5cdFx0XHR4OiBpbml0aWFsWCAqIGJveFNpemUsIFxuXHRcdFx0eTogaW5pdGlhbFkgKiBib3hTaXplIFxuXHRcdH07IFxuXHRcdHRoaXMuY3R4ID0gY3R4O1xuXHRcdHRoaXMuY2FudmFzID0gY2FudmFzO1xuXHRcdHRoaXMuYm94U2l6ZSA9IGJveFNpemU7XG5cdFx0dGhpcy5pbml0aWFsWCA9IGluaXRpYWxYO1xuXHRcdHRoaXMuaW5pdGlhbFkgPSBpbml0aWFsWTtcblx0XHR0aGlzLmNvbG9yID0gY29sb3I7XG5cdFx0dGhpcy5kaXJlY3Rpb247XG5cdFx0dGhpcy5wb3NpdGlvbiA9IHRoaXMuc25ha2VbMF07XG5cdH1cblxuXHRnZXRTbmFrZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5zbmFrZTtcblx0fVxuXG5cdHNldFNuYWtlT25DYW52YXMoKSB7XG5cdFx0dGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcblx0XHR0aGlzLmN0eC5maWxsUmVjdCh0aGlzLmluaXRpYWxYLCB0aGlzLmluaXRpYWxZICogdGhpcy5ib3hTaXplLCB0aGlzLmJveFNpemUsIHRoaXMuYm94U2l6ZSk7XG5cdH1cblxuXHRkcmF3KHNuYWtlWCwgc25ha2VZKSB7XG5cdFx0dGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcblx0XHR0aGlzLmN0eC5maWxsUmVjdChzbmFrZVgsIHNuYWtlWSwgdGhpcy5ib3hTaXplLCB0aGlzLmJveFNpemUpO1xuXHR9XG5cblx0c2V0RGlyZWN0aW9uKGRpcmVjdGlvbikge1xuXHRcdHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHR9XG5cblx0aGFzQ29sbGlkZWQoc25ha2VYLCBzbmFrZVkpIHtcblx0XHRyZXR1cm4gKHNuYWtlWCA8IDAgfHwgc25ha2VYICsgdGhpcy5ib3hTaXplID4gdGhpcy5jYW52YXMud2lkdGgpXG5cdFx0XHR8fCAoc25ha2VZIDwgMCB8fCBzbmFrZVkgKyB0aGlzLmJveFNpemUgPiB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXHR9XG5cblx0ZWF0KCkge1xuXHRcdGxldCBoZWFkWCA9IHRoaXMuc25ha2VbMF0ueDtcblx0XHRsZXQgaGVhZFkgPSB0aGlzLnNuYWtlWzBdLnk7XG5cblx0XHRpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdMRUZUJykge1xuXHRcdFx0aGVhZFggLT0gdGhpcy5ib3hTaXplO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdSSUdIVCcpIHtcblx0XHRcdGhlYWRYICs9IHRoaXMuYm94U2l6ZTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAnVVAnKSB7XG5cdFx0XHRoZWFkWSAtPSB0aGlzLmJveFNpemU7XG5cdFx0fSBlbHNlIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ0RPV04nKSB7XG5cdFx0XHRoZWFkWSArPSB0aGlzLmJveFNpemU7XG5cdFx0fVxuXG5cdFx0dGhpcy5zbmFrZS51bnNoaWZ0KHsgeDogaGVhZFgsIHk6IGhlYWRZIH0pO1xuXHR9XG5cblx0Z2V0UG9zaXRpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucG9zaXRpb247XG5cdH1cblxuXHRzZXRQb3NpdGlvbihwb3NpdGlvbikge1xuXHRcdHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcblx0fVxuXG5cdG1vdmUoZGlyZWN0aW9uKSB7XG5cdFx0dGhpcy5zZXREaXJlY3Rpb24oZGlyZWN0aW9uKTtcblx0XHRsZXQgbmV3SGVhZFg7XG5cdFx0bGV0IG5ld0hlYWRZO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoZGlyZWN0aW9uID09PSAnTEVGVCcpIHtcblx0XHRcdFx0bmV3SGVhZFggPSB0aGlzLnNuYWtlWzBdLnggLSB0aGlzLmJveFNpemU7XG5cdFx0XHR9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ1JJR0hUJykge1xuXHRcdFx0XHRuZXdIZWFkWCA9IHRoaXMuc25ha2VbMF0ueCArIHRoaXMuYm94U2l6ZTtcblx0XHRcdH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnRE9XTicpIHtcblx0XHRcdFx0bmV3SGVhZFkgPSB0aGlzLnNuYWtlWzBdLnkgKyB0aGlzLmJveFNpemU7XG5cdFx0XHR9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ1VQJykge1xuXHRcdFx0XHRuZXdIZWFkWSA9IHRoaXMuc25ha2VbMF0ueSAtIHRoaXMuYm94U2l6ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc29sZS5sb2cobmV3SGVhZFgpO1xuXHRcdFx0Y29uc29sZS5sb2cobmV3SGVhZFkpO1xuXG5cdFx0XHR0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuXHRcdFx0dGhpcy5jdHguZmlsbFJlY3QoMjAsIDMwLCB0aGlzLmJveFNpemUsIHRoaXMuYm94U2l6ZSk7XG5cblx0XHRcdC8vIHRoaXMuc25ha2UucG9wKCk7XG5cdFx0XHR0aGlzLnNuYWtlLnVuc2hpZnQoe3g6IDEwK2ksIHk6MjAraX0pO1xuXHRcdFx0Ly8gdGhpcy5kcmF3KG5ld0hlYWRYLCBuZXdIZWFkWSk7XG5cblx0XHRcdGlmICh0aGlzLmhhc0NvbGxpZGVkKG5ld0hlYWRYLCBuZXdIZWFkWSkpIHtcblx0XHRcdFx0dGhpcy5zZXRQb3NpdGlvbih7fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNldFBvc2l0aW9uKHtcblx0XHRcdFx0XHR4OiBuZXdIZWFkWCwgXG5cdFx0XHRcdFx0eTogbmV3SGVhZFlcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIHRoaXMuZHJhdygpO1xuXHR9XG59IiwiaW1wb3J0IENvbnRyb2xsZXJzIGZyb20gJy4vZ2FtZS9Db250cm9sbGVycyc7XG5pbXBvcnQgRm9vZCBmcm9tICcuL2dhbWUvRm9vZCc7XG4vLyBpbXBvcnQgR2FtZSBmcm9tICcuL2dhbWUvR2FtZSc7XG5pbXBvcnQgU25ha2UgZnJvbSAnLi9nYW1lL1NuYWtlJztcbmltcG9ydCBDYW52YXMgZnJvbSAnLi9nYW1lL0NhbnZhcyc7XG5cbmxldCBkaXJlY3Rpb247XG5jb25zdCBib3hTaXplID0gMjA7XG5jb25zdCBnYW1lID0gc2V0SW50ZXJ2YWwocGxheSwgMTIwKTtcblxuLyogQ0FOVkFTICovXG5jb25zdCBjYW52YXMgPSBuZXcgQ2FudmFzKCk7XG5jb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgpO1xuXG4vKiBDT05UUk9MTEVSUyAqL1xuY29uc3QgY29udHJvbGxlcnMgPSBuZXcgQ29udHJvbGxlcnMoeyBpbml0aWFsUG9zaXRpb246ICdSSUdIVCcgfSk7XG5cbmNvbnRyb2xsZXJzLmtleWJvYXJkTGlzdGVuZXIoKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsICgpID0+IHtcblx0ZGlyZWN0aW9uID0gY29udHJvbGxlcnMuZ2V0RGlyZWN0aW9uKCk7XG59KTtcblxuXG4vKiBTTkFLRSAqL1xuY29uc3Qgc25ha2UgPSBuZXcgU25ha2UoeyBcblx0Y3R4LCBcblx0Y2FudmFzLCBcblx0Ym94U2l6ZSwgXG5cdGluaXRpYWxYOiAwLCBcblx0aW5pdGlhbFk6IDE1LCBcblx0Y29sb3I6ICdncmVlbicsIFxuXHRnYW1lXG59KTtcblxuc25ha2Uuc2V0U25ha2VPbkNhbnZhcygpO1xuXG4vKiBGT09EICovXG5jb25zdCBmb29kID0gbmV3IEZvb2QoY2FudmFzLCBjdHgsIGJveFNpemUsICdyZWQnKTsgXG5mb29kLmNyZWF0ZSgpO1xuXG4vKiBQTEFZICovXG5mdW5jdGlvbiBwbGF5KCkge1xuXHRjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cdGZvb2QuZHJhdygpO1xuXHRzbmFrZS5tb3ZlKGRpcmVjdGlvbik7XG5cdGNvbnN0IGZvb2RQb3NpdGlvbiA9IGZvb2QuZ2V0UG9zaXRpb24oKTtcblx0Y29uc3Qgc25ha2VQb3NpdGlvbiA9IHNuYWtlLmdldFBvc2l0aW9uKCk7XG5cblx0aWYgKE9iamVjdC5rZXlzKHNuYWtlUG9zaXRpb24pLmxlbmd0aCA9PT0gMCkge1xuXHRcdGFsZXJ0KCdHYW1lIE92ZXIhJyk7XG5cdFx0Y2xlYXJJbnRlcnZhbChnYW1lKTtcblx0XHRsb2NhdGlvbi5yZWxvYWQoKTtcblx0fSBlbHNlIGlmICgoc25ha2VQb3NpdGlvbi54ID09PSBmb29kUG9zaXRpb24ueCAmJiBzbmFrZVBvc2l0aW9uLnkgPT09IGZvb2RQb3NpdGlvbi55KSkge1xuXHRcdGZvb2QuY3JlYXRlKCk7XG5cdFx0Zm9vZC5kcmF3KCk7XG5cdFx0c25ha2UuZWF0KCk7XG5cdH1cbn1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4iXX0="}